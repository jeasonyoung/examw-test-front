<!doctype html>
<html>
<head>
<title>考试类选择页 考试系统题库</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<!-- css -->
<link href="<@s.url "/resources/front-default/pub.css"/>" rel="stylesheet" type="text/css">
<link href="<@s.url "/resources/front-default/home.css"/>" rel="stylesheet" type="text/css">
<!-- jquery -->
<script type="text/javascript" src="<@s.url "/resources/jquery.min.1.11.1.js"/>"></script>
</head>

<body>
<#include "common/head.html"/>
<div class="banner fl"></div>
<div class="examw-box">
    <div class="main">
        <div class="examw">
        	<#list CATEGORYLIST as c>
        		<#if c_index == 0>
            		<div class="examwbox choose" data-classid="${c.id}">
            			<a title="${c.name}" class="examwbox choose-color">
            				<em class="${c.abbr}"></em>${c.name}
            			</a>
            			<span></span><!-- 选中标记 -->
            		</div>
            	<#else>
            		<div class="examwbox" data-classid="${c.id}">
            			<a title="${c.name}" class="examwbox">
            				<em class="${c.abbr}"></em>${c.name}
            			</a>
            		</div>
            	</#if>
            </#list>
            <!-- 已选 -->
            <div class="examwbox mr-no"><a title="已选" class="examwbox"><em class="yixuan"></em>已选</a></div>
        </div>
        <div class="width998">
        	<div class="kemu-box fl">
                <div class="kemu">
                	<#list CATEGORYLIST as c>
                		<#if c_index == 0>
                			<ul name="category_children" id="${c.id}">
                			<#else>
                			<ul name="category_children" id="${c.id}" style="display:none">
                		</#if>
                		<#list c.exams as child>
                        	<li class="out" onMouseOver="this.className='over'" onMouseOut="this.className='out'" data-examid="${child.id}">
                        		<div class="pic"><img src="<@s.url "/resources/front-default/image/class.png"/>" width="66" height="74"></div>
                            	<em>${child.name}</em>
                        	</li>
                       	</#list>
                    	</ul>
                    </#list>
                    <!-- 已选择 -->
                    <ul	id="choosen_exams">
                    	
                    </ul>
                </div>
            </div>
        </div>
        <div class="h10"></div>
        <div class="choose-botton"><div class="hong-botton"><a href="javascript:void(0)" target="_blank" id="button">开启学习之旅·走起</a></div></div>
    </div>
</div>
<div class="h30"></div>
<#include "common/foot.html"/>
</body>
 <script type="text/javascript">
 	$(function(){
 		//点击顶级分类
 		$(".examw > div").click(function(){
 			//同类以及自身样式改变
 			$(this).siblings(".choose").children("span").remove();
 			$(this).siblings().removeClass("choose");
 			$(this).addClass("choose");
 			$(this).append("<span></span>");
 			//级联考试显示
 			var id = $(this).attr("data-classid");
 			$("ul[name='category_children']").hide();
 			if(id)
 			{
 				$("#"+id).show();
 				$("#choosen_exams").hide();
 			}
 			else
 			{
 				$("#choosen_exams").html("");
 				var choosen = $("ul[name='category_children'] li span");
 				if(choosen.length>0)
 					$.each(choosen,function(i){
 						$("#choosen_exams").append($(choosen[i]).parent("li").clone());
 					});
 				else
 					$("#choosen_exams").append("<li><em>您没有选择考试</em></li>");
 				$("#choosen_exams").show();
 			}
 		});
 		//点击考试选中
 		$("ul[name='category_children'] li").click(function(){
 			if($(this).children("span").length == 0){
 				$(this).append("<span></span>");
 			}else{
 				$(this).children("span").remove();
 			}
 		});
 		//点击已选中的情况
 		$("#choosen_exams").delegate("li","click",function(){
 			var id = $(this).attr("data-examid");
 			$("ul[name='category_children'] li[data-examid='"+id+"']").children("span").remove();
 			if(id) $(this).remove();
 			if($("#choosen_exams").children("li").length==0) 
 				$("#choosen_exams").append("<li><em>您没有选择考试</em></li>");
 		});
 		//
 		$("#button").click(function(){
 			alert("");
 		});
 	});
 </script>
</html>
